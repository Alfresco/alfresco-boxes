{
    "builders": [
        {
            "type": "docker",
            "image": "maoo/alf-precise-base",
            "export_path": "precise-alf422.tar"
        }
    ],
    "provisioners": [
        {
            "cookbook_paths": [
                "../common/vendor-cookbooks"
            ],
            "data_bags_path": "../common/data_bags",
            "json": {
                "alfresco": {
                    "default_hostname" : "localhost",
                    "start_service": false,
                    "allinone": true,
                    "version":"4.2.2",
                    "properties": {
                        "db.host":"db",
                        "dir.license.external" : "/alflicense"
                    }
                },
                "tomcat" : {
                    "base_version": 7,
                    "jvm_memory" : "-Xmx2500M -XX:MaxPermSize=512M"
                },
                "maven": {
                  "master_password":"{your_optional_mvn_master_password}"
                }
            },
            "run_list": [
                "apt::default",
                "iptables::default",
                "alfresco::3rdparty",
                "tomcat::default",
                "tomcat::users",
                "alfresco::repo_config",
                "alfresco::share_config",
                "alfresco::solr_config",
                "artifact-deployer::default",
                "alfresco::apply_amps"
            ],
            "prevent_sudo": false,
            "skip_install": false,
            "type": "chef-solo"
        }
    ]
}
